#!/bin/sh

# ~~ Generated by projen. To modify, edit .projenrc.ts and run "npx projen".

set -e

lint

CYAN="\033[1;36m"
RED="\033[1;31m"
GREEN="\033[1;32m"
RESET="\033[0m"

# Run projen
echo "${CYAN}Verifying there are no uncommitted projen changes${RESET}"
npx projen

# Check for git changes
if git diff --quiet; then
  echo "${GREEN}✅ No changes detected. Proceeding with commit.${RESET}"
  exit 0
else
  echo "${RED}❌ ERROR: Running 'npx projen' resulted in file changes.${RESET}"
  echo "${RED}❌ Please commit these changes before proceeding.${RESET}"
  exit 1
fi

