// ~~ Generated by projen. To modify, edit .projenrc.js and run "npx projen".

# Copilot Instructions for CTT (Calm's TypeScript Templates)

## Repository Summary

**CTT (Calm's TypeScript Templates)** is a projen-based TypeScript project that provides templates and scaffolding tools for creating TypeScript applications and packages. It generates consistent project structures with preconfigured tools for linting, testing, building, and continuous integration.

## Using CTT Templates

### Quick Start

```bash
# Install CTT globally or use npx
npm install -g @calm/ctt
# OR
npx @calm/ctt

# Create a new project
ctt my-project
```

### Available Templates

- **CalmsTypescriptBase**: Base TypeScript project with common setup
- **CalmsTypescriptPackage**: npm package with bin scripts and publishing setup
- **CalmsTypescriptApp**: Application template with runtime optimizations
- **CalmsTypescriptCdk**: AWS CDK application template

### Development Workflow

1. **Install dependencies**: `pnpm install`
2. **Build**: `pnpm run build` or `npx projen build`
3. **Test**: `pnpm test` or `npx projen test`
4. **Lint**: `pnpm run lint` or `npx projen lint`

## Projen Integration

This project uses **projen** for project configuration and file generation.

### Key Concepts

- **`.projenrc.ts`**: Main configuration file that defines the project structure
- **Projen Components**: Reusable pieces that add functionality (like Husky, Vitest, ESLint)
- **Self-mutation**: Projen automatically updates generated files when configuration changes

### Working with Projen

```bash
# Regenerate files after .projenrc.ts changes
npx projen

# Add new dependencies
# Edit .projenrc.ts, then run projen to update package.json

# Create new tasks
# Define in .projenrc.ts components, access via this.myTask in classes
```

### Component Development Guidelines

- Extend `Component` class for reusable functionality
- Store task references as public readonly properties
- Follow the existing patterns in `src/` directory
- Use optional chaining (`?.`) for safer property access

## Build System

- **Package Manager**: pnpm with workspaces
- **Compiler**: TypeScript with Node16 module resolution
- **Test Runner**: Vitest with coverage
- **Linter**: ESLint + Prettier with strict rules
- **Git Hooks**: Husky for pre-commit and pre-push validation

## Contributing

1. Make changes to `.projenrc.ts` or `src/` files
2. Run `npx projen` to regenerate configuration files
3. Test your changes with `pnpm run build`
4. Commit using conventional commit format
5. All changes are validated by CI/CD pipeline